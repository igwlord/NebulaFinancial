<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Firebase + Auth</title>
</head>
<body>
    <h1>Test Firebase y NebulaAuth</h1>
    <div id="firebase-status">Probando Firebase...</div>
    <div id="auth-status">Probando NebulaAuth...</div>

    <script type="module">
        console.log('üß™ Iniciando test completo...');
        
        // Test Firebase
        try {
            const timestamp = Date.now();
            const { getFirebaseConfig } = await import(`./firebase-config.js?t=${timestamp}`);
            const config = getFirebaseConfig();
            console.log('‚úÖ Firebase config:', config);
            document.getElementById('firebase-status').innerHTML = '‚úÖ Firebase: OK';
        } catch (error) {
            console.error('‚ùå Error Firebase:', error);
            document.getElementById('firebase-status').innerHTML = '‚ùå Firebase: ERROR - ' + error.message;
        }
        
        // Test NebulaAuth (despu√©s de un peque√±o delay para asegurar que se cargue)
        setTimeout(() => {
            try {
                if (window.NebulaAuth) {
                    console.log('‚úÖ NebulaAuth disponible:', typeof window.NebulaAuth);
                    const auth = new window.NebulaAuth();
                    console.log('‚úÖ NebulaAuth instanciado:', auth);
                    console.log('‚úÖ addAuthListener:', typeof auth.addAuthListener);
                    document.getElementById('auth-status').innerHTML = '‚úÖ NebulaAuth: OK';
                } else {
                    throw new Error('NebulaAuth no est√° disponible');
                }
            } catch (error) {
                console.error('‚ùå Error NebulaAuth:', error);
                document.getElementById('auth-status').innerHTML = '‚ùå NebulaAuth: ERROR - ' + error.message;
            }
        }, 1000);
    </script>
    
    <!-- Cargar NebulaAuth -->
    <script src="./nebula-auth.js"></script>
</body>
</html>
